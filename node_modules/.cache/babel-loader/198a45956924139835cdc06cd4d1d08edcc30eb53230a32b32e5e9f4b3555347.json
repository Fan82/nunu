{"ast":null,"code":"var _jsxFileName = \"/Users/fan/Documents/GitHub/nunu/src/component/MapScene.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FollowPathVan() {\n  _s();\n  const [progress, setProgress] = useState(0); // 路線百分比\n  const pathRef = useRef(null);\n  const [pos, setPos] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // 動畫：根據 progress 計算位置\n  useEffect(() => {\n    const path = pathRef.current;\n    if (!path) return;\n    const totalLength = path.getTotalLength();\n    const point = path.getPointAtLength(totalLength * progress);\n    setPos({\n      x: point.x,\n      y: point.y\n    });\n  }, [progress]);\n\n  // 開始動畫（模擬從 0 到 1）\n  useEffect(() => {\n    let frameId;\n    let p = 0;\n    const animate = () => {\n      p += 0.005; // 調整速度\n      if (p > 1) p = 1;\n      setProgress(p);\n      if (p < 1) frameId = requestAnimationFrame(animate);\n    };\n    animate();\n    return () => cancelAnimationFrame(frameId);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-[300px] bg-[#f9f9f9] overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"absolute w-full h-full\",\n      viewBox: \"0 0 400 300\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        ref: pathRef,\n        d: \"M 50 250 Q 150 50, 300 100 T 380 200\",\n        stroke: \"#999\",\n        strokeWidth: \"4\",\n        fill: \"none\",\n        strokeDasharray: \"6 6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.img, {\n      src: \"/van1.png\",\n      alt: \"van\",\n      className: \"absolute w-12 h-12\",\n      animate: {\n        x: pos.x,\n        y: pos.y\n      },\n      transition: {\n        type: \"tween\",\n        duration: 0.1\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(FollowPathVan, \"rkMjfOK4wnpmF+xWFRaIGftjXZI=\");\n_c = FollowPathVan;\nvar _c;\n$RefreshReg$(_c, \"FollowPathVan\");","map":{"version":3,"names":["React","useEffect","useRef","useState","motion","jsxDEV","_jsxDEV","FollowPathVan","_s","progress","setProgress","pathRef","pos","setPos","x","y","path","current","totalLength","getTotalLength","point","getPointAtLength","frameId","p","animate","requestAnimationFrame","cancelAnimationFrame","className","children","viewBox","xmlns","ref","d","stroke","strokeWidth","fill","strokeDasharray","fileName","_jsxFileName","lineNumber","columnNumber","img","src","alt","transition","type","duration","_c","$RefreshReg$"],"sources":["/Users/fan/Documents/GitHub/nunu/src/component/MapScene.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { motion } from \"framer-motion\";\n\nexport default function FollowPathVan() {\n  const [progress, setProgress] = useState(0); // 路線百分比\n  const pathRef = useRef(null);\n  const [pos, setPos] = useState({ x: 0, y: 0 });\n\n  // 動畫：根據 progress 計算位置\n  useEffect(() => {\n    const path = pathRef.current;\n    if (!path) return;\n\n    const totalLength = path.getTotalLength();\n    const point = path.getPointAtLength(totalLength * progress);\n    setPos({ x: point.x, y: point.y });\n  }, [progress]);\n\n  // 開始動畫（模擬從 0 到 1）\n  useEffect(() => {\n    let frameId;\n    let p = 0;\n\n    const animate = () => {\n      p += 0.005; // 調整速度\n      if (p > 1) p = 1;\n      setProgress(p);\n      if (p < 1) frameId = requestAnimationFrame(animate);\n    };\n\n    animate();\n    return () => cancelAnimationFrame(frameId);\n  }, []);\n\n  return (\n    <div className=\"relative w-full h-[300px] bg-[#f9f9f9] overflow-hidden\">\n      <svg\n        className=\"absolute w-full h-full\"\n        viewBox=\"0 0 400 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          ref={pathRef}\n          d=\"M 50 250 Q 150 50, 300 100 T 380 200\"\n          stroke=\"#999\"\n          strokeWidth=\"4\"\n          fill=\"none\"\n          strokeDasharray=\"6 6\"\n        />\n      </svg>\n\n      <motion.img\n        src=\"/van1.png\"\n        alt=\"van\"\n        className=\"absolute w-12 h-12\"\n        animate={{ x: pos.x, y: pos.y }}\n        transition={{ type: \"tween\", duration: 0.1 }}\n      />\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,MAAM,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,eAAe,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACtC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7C,MAAMQ,OAAO,GAAGT,MAAM,CAAC,IAAI,CAAC;EAC5B,MAAM,CAACU,GAAG,EAAEC,MAAM,CAAC,GAAGV,QAAQ,CAAC;IAAEW,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;;EAE9C;EACAd,SAAS,CAAC,MAAM;IACd,MAAMe,IAAI,GAAGL,OAAO,CAACM,OAAO;IAC5B,IAAI,CAACD,IAAI,EAAE;IAEX,MAAME,WAAW,GAAGF,IAAI,CAACG,cAAc,CAAC,CAAC;IACzC,MAAMC,KAAK,GAAGJ,IAAI,CAACK,gBAAgB,CAACH,WAAW,GAAGT,QAAQ,CAAC;IAC3DI,MAAM,CAAC;MAAEC,CAAC,EAAEM,KAAK,CAACN,CAAC;MAAEC,CAAC,EAAEK,KAAK,CAACL;IAAE,CAAC,CAAC;EACpC,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;;EAEd;EACAR,SAAS,CAAC,MAAM;IACd,IAAIqB,OAAO;IACX,IAAIC,CAAC,GAAG,CAAC;IAET,MAAMC,OAAO,GAAGA,CAAA,KAAM;MACpBD,CAAC,IAAI,KAAK,CAAC,CAAC;MACZ,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC;MAChBb,WAAW,CAACa,CAAC,CAAC;MACd,IAAIA,CAAC,GAAG,CAAC,EAAED,OAAO,GAAGG,qBAAqB,CAACD,OAAO,CAAC;IACrD,CAAC;IAEDA,OAAO,CAAC,CAAC;IACT,OAAO,MAAME,oBAAoB,CAACJ,OAAO,CAAC;EAC5C,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEhB,OAAA;IAAKqB,SAAS,EAAC,wDAAwD;IAAAC,QAAA,gBACrEtB,OAAA;MACEqB,SAAS,EAAC,wBAAwB;MAClCE,OAAO,EAAC,aAAa;MACrBC,KAAK,EAAC,4BAA4B;MAAAF,QAAA,eAElCtB,OAAA;QACEyB,GAAG,EAAEpB,OAAQ;QACbqB,CAAC,EAAC,sCAAsC;QACxCC,MAAM,EAAC,MAAM;QACbC,WAAW,EAAC,GAAG;QACfC,IAAI,EAAC,MAAM;QACXC,eAAe,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENlC,OAAA,CAACF,MAAM,CAACqC,GAAG;MACTC,GAAG,EAAC,WAAW;MACfC,GAAG,EAAC,KAAK;MACThB,SAAS,EAAC,oBAAoB;MAC9BH,OAAO,EAAE;QAAEV,CAAC,EAAEF,GAAG,CAACE,CAAC;QAAEC,CAAC,EAAEH,GAAG,CAACG;MAAE,CAAE;MAChC6B,UAAU,EAAE;QAAEC,IAAI,EAAE,OAAO;QAAEC,QAAQ,EAAE;MAAI;IAAE;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAAChC,EAAA,CAzDuBD,aAAa;AAAAwC,EAAA,GAAbxC,aAAa;AAAA,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}