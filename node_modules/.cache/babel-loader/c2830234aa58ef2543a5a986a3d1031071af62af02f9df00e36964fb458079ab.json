{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import gsap from\"gsap\";import{ScrollTrigger}from\"gsap/ScrollTrigger\";import vanImage from\"../assets/images/van.webp\";import shopImage from\"../assets/images/shop.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";gsap.registerPlugin(ScrollTrigger);export default function MapScroll(){const containerRef=useRef(null);const contentRef=useRef(null);useEffect(()=>{const ctx=gsap.context(()=>{const content=contentRef.current;const scrollAmount=content.scrollWidth-window.innerWidth;gsap.to(content,{x:()=>`-${content.scrollWidth-window.innerWidth}px`,ease:\"none\",scrollTrigger:{trigger:containerRef.current,start:\"top top\",end:()=>`+${content.scrollWidth-window.innerWidth}px`,scrub:true,pin:true,anticipatePin:0,pinType:\"transform\",invalidateOnRefresh:true,onUpdate:self=>{console.log(\"scroll progress\",self.progress);}}});ScrollTrigger.refresh();},containerRef);return()=>ctx.revert();},[]);return/*#__PURE__*/_jsx(\"section\",{ref:containerRef,className:\"relative overflow-hidden h-[100vh]\"// ← 要有明確高度\n,children:/*#__PURE__*/_jsxs(\"div\",{ref:contentRef,className:\"flex h-full w-fit will-change-transform\"// ← flex + w-fit 是重點\n,children:[[{title:\"nunu Shop\",content:\"266 South Bridge Rd, #000, Singapore\",week:\"Mon - Sun |\",time:\"10:00 - 18:00\",image:shopImage},{title:\"nunu Van\",content:\"3 Temasek Blvd, Singapore 038983\",week:\"Weekend |\",time:\"11:00 - 18:00\",image:vanImage}].map((item,i)=>/*#__PURE__*/_jsxs(\"section\",{className:\"w-screen h-full flex flex-col items-center justify-center p-4 pt-28 text-dark text-center md:flex-row lg:gap-8 lg:pt-0 lg:-mt-28 lg:justify-start\",children:[item.image&&/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"nunu\",className:`mx-auto mb-6 h-[300px] md:w-auto md:h-96 lg:m-0 lg:h-[36rem] ${item.image.includes(\"van\")?\"w-96\":\"w-72\"}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-bold lg:text-6xl after:content'' after:bg-dark after:w-11/12 after:h-0.5 after:mt-1 after:block lg:after:mt-4\",children:item.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm lg:text-md/loose\",children:item.content}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold inline-block lg:text-md/loose\",children:item.week}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm inline-block ml-2 lg:text-md/loose\",children:item.time})]}),/*#__PURE__*/_jsxs(\"button\",{className:`flex justify-center items-center gap-2 bg-white px-2.5 py-1.5 rounded-full text-sm my-4 ${item.image.includes(\"shop\")?\"block\":\"hidden\"}`,children:[\"Contact us\",/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z\",stroke:\"#000\",\"stroke-width\":\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M22 6L12 13L2 6\",stroke:\"#000\",\"stroke-width\":\"2\"})]})]})]})]},i)),/*#__PURE__*/_jsx(\"svg\",{className:\"absolute top-10 overflow-hidden -z-10 opacity-50\",viewBox:\"0 0 500 500\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M-2 78.9951C-2 78.9951 490.5 -76.9943 551 63C611.5 202.994 370.5 292.5 530.5 389.5C690.5 486.5 1277.5 324 1277.5 324\",stroke:\"#3B3B3B\",\"stroke-opacity\":\"0.63\",\"stroke-width\":\"8\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-dasharray\":\"23 23\"})})]})});}","map":{"version":3,"names":["React","useRef","useEffect","gsap","ScrollTrigger","vanImage","shopImage","jsx","_jsx","jsxs","_jsxs","registerPlugin","MapScroll","containerRef","contentRef","ctx","context","content","current","scrollAmount","scrollWidth","window","innerWidth","to","x","ease","scrollTrigger","trigger","start","end","scrub","pin","anticipatePin","pinType","invalidateOnRefresh","onUpdate","self","console","log","progress","refresh","revert","ref","className","children","title","week","time","image","map","item","i","src","alt","includes","width","height","viewBox","fill","xmlns","d","stroke"],"sources":["/Users/fan/Documents/GitHub/nunu/src/component/MapScroll.jsx"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport vanImage from \"../assets/images/van.webp\";\nimport shopImage from \"../assets/images/shop.png\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default function MapScroll() {\n  const containerRef = useRef(null);\n  const contentRef = useRef(null);\n\n  useEffect(() => {\n    const ctx = gsap.context(() => {\n      const content = contentRef.current;\n      const scrollAmount = content.scrollWidth - window.innerWidth;\n\n      gsap.to(content, {\n        x: () => `-${content.scrollWidth - window.innerWidth}px`,\n        ease: \"none\",\n        scrollTrigger: {\n          trigger: containerRef.current,\n          start: \"top top\",\n          end: () => `+${content.scrollWidth - window.innerWidth}px`,\n          scrub: true,\n          pin: true,\n          anticipatePin: 0,\n          pinType: \"transform\",\n          invalidateOnRefresh: true,\n          onUpdate: (self) => {\n            console.log(\"scroll progress\", self.progress);\n          },\n        },\n      });\n\n      ScrollTrigger.refresh();\n    }, containerRef);\n\n    return () => ctx.revert();\n  }, []);\n\n  return (\n    <section\n      ref={containerRef}\n      className=\"relative overflow-hidden h-[100vh]\" // ← 要有明確高度\n    >\n      {/* 固定圖片 */}\n      {/* <img\n        src={vanImage}\n        alt=\"van\"\n        className=\"fixed top-0 left-6 w-52 aspect-auto z-10 pointer-events-none\"\n      /> */}\n      {/* 可橫向滾動的內容 */}\n      <div\n        ref={contentRef}\n        className=\"flex h-full w-fit will-change-transform\" // ← flex + w-fit 是重點\n      >\n        {[\n          {\n            title: \"nunu Shop\",\n            content: \"266 South Bridge Rd, #000, Singapore\",\n            week: \"Mon - Sun |\",\n            time: \"10:00 - 18:00\",\n            image: shopImage,\n          },\n          {\n            title: \"nunu Van\",\n            content: \"3 Temasek Blvd, Singapore 038983\",\n            week: \"Weekend |\",\n            time: \"11:00 - 18:00\",\n            image: vanImage,\n          },\n        ].map((item, i) => (\n          <section\n            key={i}\n            className=\"w-screen h-full flex flex-col items-center justify-center p-4 pt-28 text-dark text-center md:flex-row lg:gap-8 lg:pt-0 lg:-mt-28 lg:justify-start\"\n          >\n            {item.image && (\n              <img\n                src={item.image}\n                alt=\"nunu\"\n                className={`mx-auto mb-6 h-[300px] md:w-auto md:h-96 lg:m-0 lg:h-[36rem] ${\n                  item.image.includes(\"van\") ? \"w-96\" : \"w-72\"\n                }`}\n              />\n            )}\n            <div className=\"flex flex-col items-center gap-2\">\n              <h4 className=\"text-2xl font-bold lg:text-6xl after:content'' after:bg-dark after:w-11/12 after:h-0.5 after:mt-1 after:block lg:after:mt-4\">\n                {item.title}\n              </h4>\n              <div className=\"text-sm lg:text-md/loose\">{item.content}</div>\n              <div>\n                <div className=\"text-sm font-semibold inline-block lg:text-md/loose\">\n                  {item.week}\n                </div>\n                <div className=\"text-sm inline-block ml-2 lg:text-md/loose\">\n                  {item.time}\n                </div>\n              </div>\n              <button\n                className={`flex justify-center items-center gap-2 bg-white px-2.5 py-1.5 rounded-full text-sm my-4 ${\n                  item.image.includes(\"shop\") ? \"block\" : \"hidden\"\n                }`}\n              >\n                Contact us\n                <svg\n                  width=\"24\"\n                  height=\"24\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z\"\n                    stroke=\"#000\"\n                    stroke-width=\"2\"\n                  />\n                  <path d=\"M22 6L12 13L2 6\" stroke=\"#000\" stroke-width=\"2\" />\n                </svg>\n              </button>\n            </div>\n          </section>\n        ))}\n        <svg\n          className=\"absolute top-10 overflow-hidden -z-10 opacity-50\"\n          viewBox=\"0 0 500 500\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M-2 78.9951C-2 78.9951 490.5 -76.9943 551 63C611.5 202.994 370.5 292.5 530.5 389.5C690.5 486.5 1277.5 324 1277.5 324\"\n            stroke=\"#3B3B3B\"\n            stroke-opacity=\"0.63\"\n            stroke-width=\"8\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-dasharray=\"23 23\"\n          />\n        </svg>\n      </div>\n    </section>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}