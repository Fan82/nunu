{"ast":null,"code":"var _jsxFileName = \"/Users/fan/Documents/GitHub/nunu/src/component/MapScene.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X } from \"lucide-react\";\nimport van1 from \"../assets/images/van1.webp\"; // 正面小車\nimport van2 from \"../assets/images/van2.webp\"; // 換方向小車\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst points = [{\n  id: 1,\n  x: 100,\n  y: 100,\n  modal: {\n    title: \"nunu Shop\",\n    address: \"266 South Bridge Rd, #000, Singapore\",\n    time: \"Mon - Sun | 10:00 - 18:00\",\n    img: \"../assets/images/shop.png\"\n  }\n}, {\n  id: 2,\n  x: 300,\n  y: 250,\n  modal: {\n    title: \"nunu Van\",\n    address: \"3 Temasek Blvd, Singapore 038983\",\n    time: \"Weekend | 11:00 - 18:00\",\n    img: \"../assets/images/van.png\"\n  }\n}];\nexport default function MapScene() {\n  _s();\n  const [carPos, setCarPos] = useState({\n    x: 0,\n    y: 0\n  });\n  const [currentPoint, setCurrentPoint] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [carImage, setCarImage] = useState(van1);\n  const handleClick = point => {\n    setShowModal(false);\n    setCarImage(point.id === 2 ? van2 : van1);\n    setCarPos({\n      x: point.x,\n      y: point.y\n    });\n    setCurrentPoint(point);\n    setTimeout(() => setShowModal(true), 1000); // 模擬停車後1秒出現 modal\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-[400px] bg-[#f1efea] overflow-hidden rounded-xl border\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"absolute w-full h-full\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M 0 100 Q 50 100, 100 100 Q 200 100, 300 250\",\n        fill: \"none\",\n        stroke: \"#aaa\",\n        strokeDasharray: \"6 6\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.img, {\n      src: carImage,\n      alt: \"van\",\n      className: \"absolute w-16 h-16\",\n      animate: {\n        x: carPos.x,\n        y: carPos.y\n      },\n      transition: {\n        duration: 1,\n        ease: \"easeInOut\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), points.map(p => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleClick(p),\n      className: \"absolute w-8 h-8 rounded-full bg-white border text-sm font-bold flex items-center justify-center shadow\",\n      style: {\n        left: p.x,\n        top: p.y\n      },\n      children: p.id\n    }, p.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showModal && currentPoint && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          scaleX: 0\n        },\n        animate: {\n          scaleX: 1\n        },\n        exit: {\n          scaleX: 0\n        },\n        transition: {\n          duration: 0.4\n        },\n        className: \"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 origin-center bg-white border-2 border-red-400 p-4 rounded-xl shadow-xl flex gap-4 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: currentPoint.modal.img,\n          alt: \"img\",\n          className: \"w-24 h-24 object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold\",\n            children: currentPoint.modal.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700\",\n            children: currentPoint.modal.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: currentPoint.modal.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowModal(false),\n          className: \"absolute top-2 right-2 text-red-500 hover:text-red-700\",\n          children: /*#__PURE__*/_jsxDEV(X, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, \"modal\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(MapScene, \"LlvhLOUu1Tx/TqtB53T1Q20O00A=\");\n_c = MapScene;\nvar _c;\n$RefreshReg$(_c, \"MapScene\");","map":{"version":3,"names":["React","useState","motion","AnimatePresence","X","van1","van2","jsxDEV","_jsxDEV","points","id","x","y","modal","title","address","time","img","MapScene","_s","carPos","setCarPos","currentPoint","setCurrentPoint","showModal","setShowModal","carImage","setCarImage","handleClick","point","setTimeout","className","children","d","fill","stroke","strokeDasharray","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","animate","transition","duration","ease","map","p","onClick","style","left","top","div","initial","scaleX","exit","_c","$RefreshReg$"],"sources":["/Users/fan/Documents/GitHub/nunu/src/component/MapScene.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X } from \"lucide-react\";\nimport van1 from \"../assets/images/van1.webp\"; // 正面小車\nimport van2 from \"../assets/images/van2.webp\"; // 換方向小車\n\nconst points = [\n  {\n    id: 1,\n    x: 100,\n    y: 100,\n    modal: {\n      title: \"nunu Shop\",\n      address: \"266 South Bridge Rd, #000, Singapore\",\n      time: \"Mon - Sun | 10:00 - 18:00\",\n      img: \"../assets/images/shop.png\",\n    },\n  },\n  {\n    id: 2,\n    x: 300,\n    y: 250,\n    modal: {\n      title: \"nunu Van\",\n      address: \"3 Temasek Blvd, Singapore 038983\",\n      time: \"Weekend | 11:00 - 18:00\",\n      img: \"../assets/images/van.png\",\n    },\n  },\n];\n\nexport default function MapScene() {\n  const [carPos, setCarPos] = useState({ x: 0, y: 0 });\n  const [currentPoint, setCurrentPoint] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [carImage, setCarImage] = useState(van1);\n\n  const handleClick = (point) => {\n    setShowModal(false);\n    setCarImage(point.id === 2 ? van2 : van1);\n    setCarPos({ x: point.x, y: point.y });\n    setCurrentPoint(point);\n    setTimeout(() => setShowModal(true), 1000); // 模擬停車後1秒出現 modal\n  };\n\n  return (\n    <div className=\"relative w-full h-[400px] bg-[#f1efea] overflow-hidden rounded-xl border\">\n      {/* 虛線路線（可用 SVG 或 CSS 做） */}\n      <svg className=\"absolute w-full h-full\">\n        <path\n          d=\"M 0 100 Q 50 100, 100 100 Q 200 100, 300 250\"\n          fill=\"none\"\n          stroke=\"#aaa\"\n          strokeDasharray=\"6 6\"\n          strokeWidth=\"2\"\n        />\n      </svg>\n\n      {/* 車子 */}\n      <motion.img\n        src={carImage}\n        alt=\"van\"\n        className=\"absolute w-16 h-16\"\n        animate={{ x: carPos.x, y: carPos.y }}\n        transition={{ duration: 1, ease: \"easeInOut\" }}\n      />\n\n      {/* 地點按鈕 */}\n      {points.map((p) => (\n        <button\n          key={p.id}\n          onClick={() => handleClick(p)}\n          className=\"absolute w-8 h-8 rounded-full bg-white border text-sm font-bold flex items-center justify-center shadow\"\n          style={{ left: p.x, top: p.y }}\n        >\n          {p.id}\n        </button>\n      ))}\n\n      {/* Modal */}\n      <AnimatePresence>\n        {showModal && currentPoint && (\n          <motion.div\n            key=\"modal\"\n            initial={{ scaleX: 0 }}\n            animate={{ scaleX: 1 }}\n            exit={{ scaleX: 0 }}\n            transition={{ duration: 0.4 }}\n            className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 origin-center bg-white border-2 border-red-400 p-4 rounded-xl shadow-xl flex gap-4 items-center\"\n          >\n            <img\n              src={currentPoint.modal.img}\n              alt=\"img\"\n              className=\"w-24 h-24 object-contain\"\n            />\n            <div className=\"text-left\">\n              <h2 className=\"text-lg font-semibold\">\n                {currentPoint.modal.title}\n              </h2>\n              <p className=\"text-sm text-gray-700\">\n                {currentPoint.modal.address}\n              </p>\n              <p className=\"text-xs text-gray-500\">{currentPoint.modal.time}</p>\n            </div>\n            <button\n              onClick={() => setShowModal(false)}\n              className=\"absolute top-2 right-2 text-red-500 hover:text-red-700\"\n            >\n              <X />\n            </button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}