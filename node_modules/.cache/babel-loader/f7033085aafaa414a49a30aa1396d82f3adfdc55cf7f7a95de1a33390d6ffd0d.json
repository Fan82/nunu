{"ast":null,"code":"var _jsxFileName = \"/Users/fan/Documents/GitHub/nunu/src/component/ScrollTopIndicator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ScrollTopIndicator() {\n  _s();\n  const [displayText, setDisplayText] = useState(\"Scroll\");\n  const [visible, setVisible] = useState(true);\n  const timeoutRef = useRef(null);\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY || window.pageYOffset;\n      const windowHeight = window.innerHeight;\n      const documentHeight = document.body.scrollHeight;\n      const windowBottom = scrollY + windowHeight;\n      const showScroll = scrollY < 300;\n      const showTop = windowBottom >= documentHeight * 0.8;\n      let nextText = \"\";\n      if (showScroll) {\n        nextText = \"Scroll\";\n      } else if (showTop) {\n        nextText = \"Top\";\n      }\n      if (nextText !== displayText) {\n        setVisible(false);\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\n        timeoutRef.current = setTimeout(() => {\n          setDisplayText(nextText);\n          setVisible(true);\n        }, 100); // 與 transition 時間配合\n      }\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    handleScroll();\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    };\n  }, [displayText]);\n  const handleClick = () => {\n    if (displayText === \"Top\") {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AnimatePresence, {\n    mode: \"wait\",\n    children: displayText && /*#__PURE__*/_jsxDEV(motion.div, {\n      className: `component-svg fixed bottom-12 left-6 z-10 cursor-pointer ${displayText === \"Top\" ? \"top\" : \"\"}`,\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: visible ? 1 : 0,\n        y: visible ? 0 : 20\n      },\n      exit: {\n        opacity: 0,\n        y: 20\n      },\n      transition: {\n        duration: 0.3\n      },\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"line\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), displayText]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, displayText, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(ScrollTopIndicator, \"LcDo/O4G+SnjNHbL+1nnjwsl80E=\");\n_c = ScrollTopIndicator;\nexport default ScrollTopIndicator;\nvar _c;\n$RefreshReg$(_c, \"ScrollTopIndicator\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","jsxDEV","_jsxDEV","ScrollTopIndicator","_s","displayText","setDisplayText","visible","setVisible","timeoutRef","handleScroll","scrollY","window","pageYOffset","windowHeight","innerHeight","documentHeight","document","body","scrollHeight","windowBottom","showScroll","showTop","nextText","current","clearTimeout","setTimeout","addEventListener","removeEventListener","handleClick","scrollTo","top","behavior","mode","children","div","className","initial","opacity","y","animate","exit","transition","duration","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/fan/Documents/GitHub/nunu/src/component/ScrollTopIndicator.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nfunction ScrollTopIndicator() {\n  const [displayText, setDisplayText] = useState(\"Scroll\");\n  const [visible, setVisible] = useState(true);\n  const timeoutRef = useRef(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY || window.pageYOffset;\n      const windowHeight = window.innerHeight;\n      const documentHeight = document.body.scrollHeight;\n      const windowBottom = scrollY + windowHeight;\n\n      const showScroll = scrollY < 300;\n      const showTop = windowBottom >= documentHeight * 0.8;\n\n      let nextText = \"\";\n      if (showScroll) {\n        nextText = \"Scroll\";\n      } else if (showTop) {\n        nextText = \"Top\";\n      }\n\n      if (nextText !== displayText) {\n        setVisible(false);\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\n\n        timeoutRef.current = setTimeout(() => {\n          setDisplayText(nextText);\n          setVisible(true);\n        }, 100); // 與 transition 時間配合\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    handleScroll();\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    };\n  }, [displayText]);\n\n  const handleClick = () => {\n    if (displayText === \"Top\") {\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n  };\n\n  return (\n    <AnimatePresence mode=\"wait\">\n      {displayText && (\n        <motion.div\n          key={displayText}\n          className={`component-svg fixed bottom-12 left-6 z-10 cursor-pointer ${\n            displayText === \"Top\" ? \"top\" : \"\"\n          }`}\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: visible ? 1 : 0, y: visible ? 0 : 20 }}\n          exit={{ opacity: 0, y: 20 }}\n          transition={{ duration: 0.3 }}\n          onClick={handleClick}\n        >\n          <div>\n            <div className=\"line\">\n              <span></span>\n            </div>\n            {displayText}\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\nexport default ScrollTopIndicator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}