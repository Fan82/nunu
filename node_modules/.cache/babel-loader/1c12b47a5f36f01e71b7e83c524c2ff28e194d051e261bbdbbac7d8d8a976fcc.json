{"ast":null,"code":"var _jsxFileName = \"/Users/fan/Documents/GitHub/nunu/src/component/MapScene.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { motion, AnimatePresence, useAnimation } from \"framer-motion\";\nimport van1 from \"../assets/images/van1.webp\";\nimport van2 from \"../assets/images/van2.webp\";\nimport marker1 from \"../assets/images/marker1.png\";\nimport marker2 from \"../assets/images/marker2.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst locations = [{\n  id: 1,\n  pathRefKey: \"pathA\",\n  carImg: van1,\n  modal: {}\n}, {\n  id: 2,\n  pathRefKey: \"pathB\",\n  carImg: van2,\n  modal: {\n    /* … */\n  }\n}];\nexport default function MapScene() {\n  _s();\n  const pathA = useRef(null);\n  const pathB = useRef(null);\n  const controls = useAnimation();\n  const [currentLoc, setCurrentLoc] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [isMoving, setIsMoving] = useState(false);\n  const [carPos, setCarPos] = useState({\n    x: 0,\n    y: 0\n  });\n  const [carImg, setCarImg] = useState(van1);\n\n  // on load, 把車放到 pathA 起點\n  useEffect(() => {\n    const p = pathA.current.getPointAtLength(0);\n    setCarPos({\n      x: p.x,\n      y: p.y\n    });\n  }, []);\n\n  // 同步 controls\n  useEffect(() => {\n    controls.set({\n      x: carPos.x,\n      y: carPos.y\n    });\n  }, [carPos, controls]);\n  const moveAlong = (pathRef, loc) => {\n    if (isMoving) return Promise.resolve();\n    setIsMoving(true);\n    setShowModal(false);\n    setCurrentLoc(loc);\n    setCarImg(loc.carImg);\n    const total = pathRef.current.getTotalLength();\n    return new Promise(res => {\n      let t = 0;\n      const step = () => {\n        t = Math.min(1, t + 0.005);\n        const p = pathRef.current.getPointAtLength(total * t);\n        controls.set({\n          x: p.x,\n          y: p.y\n        });\n        if (t < 1) {\n          requestAnimationFrame(step);\n        } else {\n          // 到站後 wait 1s 再顯示 Modal\n          setTimeout(() => {\n            setShowModal(true);\n            setIsMoving(false);\n            res();\n          }, 1000);\n        }\n      };\n      requestAnimationFrame(step);\n    });\n  };\n\n  // 監聽 scroll，到各 section 時觸發對應路徑\n  useEffect(() => {\n    const sections = [document.getElementById(\"section-1\"), document.getElementById(\"section-2\")];\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const id = Number(entry.target.dataset.id);\n          const loc = locations.find(l => l.id === id);\n          const ref = loc.pathRefKey === \"pathA\" ? pathA : pathB;\n          moveAlong(ref, loc);\n        }\n      });\n    }, {\n      threshold: 0.6\n    });\n    sections.forEach(sec => sec && observer.observe(sec));\n    return () => observer.disconnect();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sticky top-0 w-full h-[400px] bg-[#f1efea] rounded-xl border overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"absolute w-full h-full\",\n        viewBox: \"0 0 400 300\",\n        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n          ref: pathA,\n          d: \"M50,250 C150,50 250,50 300,100\",\n          fill: \"none\",\n          stroke: \"#ccc\",\n          strokeWidth: \"4\",\n          strokeDasharray: \"6 6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          ref: pathB,\n          d: \"M300,100 C250,150 150,250 100,300\",\n          fill: \"none\",\n          stroke: \"#ccc\",\n          strokeWidth: \"4\",\n          strokeDasharray: \"6 6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.img, {\n        src: carImg,\n        alt: \"van\",\n        className: \"absolute w-16 h-16 pointer-events-none\",\n        animate: controls,\n        transition: {\n          ease: \"linear\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), [pathA, pathB].map((ref, i) => {\n        var _ref$current$getTotal, _ref$current, _ref$current$getPoint, _ref$current2;\n        const loc = locations[i];\n        const total = (_ref$current$getTotal = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.getTotalLength()) !== null && _ref$current$getTotal !== void 0 ? _ref$current$getTotal : 0;\n        const p = (_ref$current$getPoint = (_ref$current2 = ref.current) === null || _ref$current2 === void 0 ? void 0 : _ref$current2.getPointAtLength(total)) !== null && _ref$current$getPoint !== void 0 ? _ref$current$getPoint : {\n          x: 0,\n          y: 0\n        };\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: loc.id === 1 ? marker1 : marker2,\n          alt: `marker${loc.id}`,\n          className: \"absolute w-8 h-8\",\n          style: {\n            left: p.x - 12,\n            top: p.y - 12\n          }\n        }, loc.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"section-1\",\n      \"data-id\": \"1\",\n      className: \"h-screen flex items-center justify-center bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold\",\n        children: \"nunu Shop \\u5340\\u584A\\u5167\\u5BB9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"section-2\",\n      \"data-id\": \"2\",\n      className: \"h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold\",\n        children: \"nunu Van \\u5340\\u584A\\u5167\\u5BB9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showModal && currentLoc && /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"fixed inset-0 bg-black/50 flex items-center justify-center z-50\",\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"relative bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full border-4 border-orange-400\",\n          initial: {\n            scaleX: 0\n          },\n          animate: {\n            scaleX: 1\n          },\n          exit: {\n            scaleX: 0\n          },\n          transition: {\n            duration: 0.4\n          },\n          style: {\n            transformOrigin: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"absolute top-3 right-3 text-2xl text-gray-500 hover:text-gray-800\",\n            onClick: () => setShowModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-orange-600 mb-2\",\n            children: currentLoc.modal.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"\\u5730\\u5740\\uFF1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), currentLoc.modal.address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"\\u71DF\\u696D\\u6642\\u9593\\uFF1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), currentLoc.modal.hours]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n_s(MapScene, \"mGav4Ut6jyfVDT29vYAB9KCngWM=\", false, function () {\n  return [useAnimation];\n});\n_c = MapScene;\nvar _c;\n$RefreshReg$(_c, \"MapScene\");","map":{"version":3,"names":["React","useRef","useState","useEffect","motion","AnimatePresence","useAnimation","van1","van2","marker1","marker2","jsxDEV","_jsxDEV","locations","id","pathRefKey","carImg","modal","MapScene","_s","pathA","pathB","controls","currentLoc","setCurrentLoc","showModal","setShowModal","isMoving","setIsMoving","carPos","setCarPos","x","y","setCarImg","p","current","getPointAtLength","set","moveAlong","pathRef","loc","Promise","resolve","total","getTotalLength","res","t","step","Math","min","requestAnimationFrame","setTimeout","sections","document","getElementById","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","Number","target","dataset","find","l","ref","threshold","sec","observe","disconnect","className","children","viewBox","d","fill","stroke","strokeWidth","strokeDasharray","fileName","_jsxFileName","lineNumber","columnNumber","img","src","alt","animate","transition","ease","map","i","_ref$current$getTotal","_ref$current","_ref$current$getPoint","_ref$current2","style","left","top","div","initial","opacity","exit","scaleX","duration","transformOrigin","onClick","name","address","hours","_c","$RefreshReg$"],"sources":["/Users/fan/Documents/GitHub/nunu/src/component/MapScene.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { motion, AnimatePresence, useAnimation } from \"framer-motion\";\nimport van1 from \"../assets/images/van1.webp\";\nimport van2 from \"../assets/images/van2.webp\";\nimport marker1 from \"../assets/images/marker1.png\";\nimport marker2 from \"../assets/images/marker2.png\";\n\nconst locations = [\n  {\n    id: 1,\n    pathRefKey: \"pathA\",\n    carImg: van1,\n    modal: {},\n  },\n  {\n    id: 2,\n    pathRefKey: \"pathB\",\n    carImg: van2,\n    modal: {\n      /* … */\n    },\n  },\n];\n\nexport default function MapScene() {\n  const pathA = useRef(null);\n  const pathB = useRef(null);\n  const controls = useAnimation();\n\n  const [currentLoc, setCurrentLoc] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [isMoving, setIsMoving] = useState(false);\n  const [carPos, setCarPos] = useState({ x: 0, y: 0 });\n  const [carImg, setCarImg] = useState(van1);\n\n  // on load, 把車放到 pathA 起點\n  useEffect(() => {\n    const p = pathA.current.getPointAtLength(0);\n    setCarPos({ x: p.x, y: p.y });\n  }, []);\n\n  // 同步 controls\n  useEffect(() => {\n    controls.set({ x: carPos.x, y: carPos.y });\n  }, [carPos, controls]);\n\n  const moveAlong = (pathRef, loc) => {\n    if (isMoving) return Promise.resolve();\n    setIsMoving(true);\n    setShowModal(false);\n    setCurrentLoc(loc);\n    setCarImg(loc.carImg);\n\n    const total = pathRef.current.getTotalLength();\n    return new Promise((res) => {\n      let t = 0;\n      const step = () => {\n        t = Math.min(1, t + 0.005);\n        const p = pathRef.current.getPointAtLength(total * t);\n        controls.set({ x: p.x, y: p.y });\n        if (t < 1) {\n          requestAnimationFrame(step);\n        } else {\n          // 到站後 wait 1s 再顯示 Modal\n          setTimeout(() => {\n            setShowModal(true);\n            setIsMoving(false);\n            res();\n          }, 1000);\n        }\n      };\n      requestAnimationFrame(step);\n    });\n  };\n\n  // 監聽 scroll，到各 section 時觸發對應路徑\n  useEffect(() => {\n    const sections = [\n      document.getElementById(\"section-1\"),\n      document.getElementById(\"section-2\"),\n    ];\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            const id = Number(entry.target.dataset.id);\n            const loc = locations.find((l) => l.id === id);\n            const ref = loc.pathRefKey === \"pathA\" ? pathA : pathB;\n            moveAlong(ref, loc);\n          }\n        });\n      },\n      { threshold: 0.6 }\n    );\n\n    sections.forEach((sec) => sec && observer.observe(sec));\n    return () => observer.disconnect();\n  }, []);\n\n  return (\n    <div className=\"relative\">\n      {/* 1. Sticky 地圖＋車子容器 */}\n      <div className=\"sticky top-0 w-full h-[400px] bg-[#f1efea] rounded-xl border overflow-hidden\">\n        <svg className=\"absolute w-full h-full\" viewBox=\"0 0 400 300\">\n          <path\n            ref={pathA}\n            d=\"M50,250 C150,50 250,50 300,100\"\n            fill=\"none\"\n            stroke=\"#ccc\"\n            strokeWidth=\"4\"\n            strokeDasharray=\"6 6\"\n          />\n          <path\n            ref={pathB}\n            d=\"M300,100 C250,150 150,250 100,300\"\n            fill=\"none\"\n            stroke=\"#ccc\"\n            strokeWidth=\"4\"\n            strokeDasharray=\"6 6\"\n          />\n        </svg>\n\n        <motion.img\n          src={carImg}\n          alt=\"van\"\n          className=\"absolute w-16 h-16 pointer-events-none\"\n          animate={controls}\n          transition={{ ease: \"linear\" }}\n        />\n\n        {/* 也可在地圖上顯示 marker 圖 */}\n        {[pathA, pathB].map((ref, i) => {\n          const loc = locations[i];\n          const total = ref.current?.getTotalLength() ?? 0;\n          const p = ref.current?.getPointAtLength(total) ?? { x: 0, y: 0 };\n          return (\n            <img\n              key={loc.id}\n              src={loc.id === 1 ? marker1 : marker2}\n              alt={`marker${loc.id}`}\n              className=\"absolute w-8 h-8\"\n              style={{ left: p.x - 12, top: p.y - 12 }}\n            />\n          );\n        })}\n      </div>\n\n      {/* 2. 兩段內容 Section */}\n      <section\n        id=\"section-1\"\n        data-id=\"1\"\n        className=\"h-screen flex items-center justify-center bg-white\"\n      >\n        <h1 className=\"text-4xl font-bold\">nunu Shop 區塊內容</h1>\n      </section>\n      <section\n        id=\"section-2\"\n        data-id=\"2\"\n        className=\"h-screen flex items-center justify-center bg-gray-50\"\n      >\n        <h1 className=\"text-4xl font-bold\">nunu Van 區塊內容</h1>\n      </section>\n\n      {/* 3. Modal */}\n      <AnimatePresence>\n        {showModal && currentLoc && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            <motion.div\n              className=\"relative bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full border-4 border-orange-400\"\n              initial={{ scaleX: 0 }}\n              animate={{ scaleX: 1 }}\n              exit={{ scaleX: 0 }}\n              transition={{ duration: 0.4 }}\n              style={{ transformOrigin: \"center\" }}\n            >\n              <button\n                className=\"absolute top-3 right-3 text-2xl text-gray-500 hover:text-gray-800\"\n                onClick={() => setShowModal(false)}\n              >\n                &times;\n              </button>\n              <h2 className=\"text-2xl font-bold text-orange-600 mb-2\">\n                {currentLoc.modal.name}\n              </h2>\n              <p className=\"text-gray-700 mb-1\">\n                <span className=\"font-semibold\">地址：</span>\n                {currentLoc.modal.address}\n              </p>\n              <p className=\"text-gray-700\">\n                <span className=\"font-semibold\">營業時間：</span>\n                {currentLoc.modal.hours}\n              </p>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}