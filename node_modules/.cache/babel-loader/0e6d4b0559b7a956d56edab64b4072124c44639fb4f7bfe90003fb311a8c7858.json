{"ast":null,"code":"var _jsxFileName = \"/Users/fan/Documents/GitHub/nunu/src/component/Component.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ScrollTopIndicator() {\n  _s();\n  const [displayText, setDisplayText] = useState(\"Scroll\");\n  const [visible, setVisible] = useState(true);\n  const timeoutRef = useRef(null);\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY || window.pageYOffset;\n      const windowHeight = window.innerHeight;\n      const documentHeight = document.body.scrollHeight;\n      const windowBottom = scrollY + windowHeight;\n\n      // 條件 1：是否滑過第一區塊（假設第一區塊高 600px）\n      const showScroll = scrollY < 600;\n\n      // 條件 2：是否接近頁面底部（例如最後20%開始顯示 Top）\n      const showTop = windowBottom >= documentHeight * 0.8;\n      let nextText = \"\";\n      if (showScroll) {\n        nextText = \"Scroll\";\n      } else if (showTop) {\n        nextText = \"Top\";\n      } else {\n        nextText = \"\";\n      }\n      if (nextText !== displayText) {\n        // 淡出\n        setVisible(false);\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\n        timeoutRef.current = setTimeout(() => {\n          setDisplayText(nextText);\n          setVisible(true);\n        }, 100); // CSS 淡出對應的時間\n      }\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    handleScroll(); // 初始化\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    };\n  }, [displayText]);\n  const handleClick = () => {\n    if (displayText === \"Top\") {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"component-svg fixed bottom-6 z-10 cursor-pointer\",\n    style: {\n      opacity: visible ? 1 : 0,\n      transition: \"opacity 0.3s ease\"\n    },\n    onClick: handleClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: displayText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(ScrollTopIndicator, \"LcDo/O4G+SnjNHbL+1nnjwsl80E=\");\n_c = ScrollTopIndicator;\nexport default ScrollTopIndicator;\nvar _c;\n$RefreshReg$(_c, \"ScrollTopIndicator\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","ScrollTopIndicator","_s","displayText","setDisplayText","visible","setVisible","timeoutRef","handleScroll","scrollY","window","pageYOffset","windowHeight","innerHeight","documentHeight","document","body","scrollHeight","windowBottom","showScroll","showTop","nextText","current","clearTimeout","setTimeout","addEventListener","removeEventListener","handleClick","scrollTo","top","behavior","className","style","opacity","transition","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/fan/Documents/GitHub/nunu/src/component/Component.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nfunction ScrollTopIndicator() {\n  const [displayText, setDisplayText] = useState(\"Scroll\");\n  const [visible, setVisible] = useState(true);\n  const timeoutRef = useRef(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY || window.pageYOffset;\n      const windowHeight = window.innerHeight;\n      const documentHeight = document.body.scrollHeight;\n      const windowBottom = scrollY + windowHeight;\n\n      // 條件 1：是否滑過第一區塊（假設第一區塊高 600px）\n      const showScroll = scrollY < 600;\n\n      // 條件 2：是否接近頁面底部（例如最後20%開始顯示 Top）\n      const showTop = windowBottom >= documentHeight * 0.8;\n\n      let nextText = \"\";\n\n      if (showScroll) {\n        nextText = \"Scroll\";\n      } else if (showTop) {\n        nextText = \"Top\";\n      } else {\n        nextText = \"\";\n      }\n\n      if (nextText !== displayText) {\n        // 淡出\n        setVisible(false);\n\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\n        timeoutRef.current = setTimeout(() => {\n          setDisplayText(nextText);\n          setVisible(true);\n        }, 100); // CSS 淡出對應的時間\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    handleScroll(); // 初始化\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    };\n  }, [displayText]);\n\n  const handleClick = () => {\n    if (displayText === \"Top\") {\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n  };\n\n  return (\n    <div\n      className=\"component-svg fixed bottom-6 z-10 cursor-pointer\"\n      style={{\n        opacity: visible ? 1 : 0,\n        transition: \"opacity 0.3s ease\",\n      }}\n      onClick={handleClick}\n    >\n      <div>{displayText}</div>\n    </div>\n  );\n}\n\nexport default ScrollTopIndicator;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,SAASC,kBAAkBA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,QAAQ,CAAC;EACxD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAMW,UAAU,GAAGT,MAAM,CAAC,IAAI,CAAC;EAE/BD,SAAS,CAAC,MAAM;IACd,MAAMW,YAAY,GAAGA,CAAA,KAAM;MACzB,MAAMC,OAAO,GAAGC,MAAM,CAACD,OAAO,IAAIC,MAAM,CAACC,WAAW;MACpD,MAAMC,YAAY,GAAGF,MAAM,CAACG,WAAW;MACvC,MAAMC,cAAc,GAAGC,QAAQ,CAACC,IAAI,CAACC,YAAY;MACjD,MAAMC,YAAY,GAAGT,OAAO,GAAGG,YAAY;;MAE3C;MACA,MAAMO,UAAU,GAAGV,OAAO,GAAG,GAAG;;MAEhC;MACA,MAAMW,OAAO,GAAGF,YAAY,IAAIJ,cAAc,GAAG,GAAG;MAEpD,IAAIO,QAAQ,GAAG,EAAE;MAEjB,IAAIF,UAAU,EAAE;QACdE,QAAQ,GAAG,QAAQ;MACrB,CAAC,MAAM,IAAID,OAAO,EAAE;QAClBC,QAAQ,GAAG,KAAK;MAClB,CAAC,MAAM;QACLA,QAAQ,GAAG,EAAE;MACf;MAEA,IAAIA,QAAQ,KAAKlB,WAAW,EAAE;QAC5B;QACAG,UAAU,CAAC,KAAK,CAAC;QAEjB,IAAIC,UAAU,CAACe,OAAO,EAAEC,YAAY,CAAChB,UAAU,CAACe,OAAO,CAAC;QACxDf,UAAU,CAACe,OAAO,GAAGE,UAAU,CAAC,MAAM;UACpCpB,cAAc,CAACiB,QAAQ,CAAC;UACxBf,UAAU,CAAC,IAAI,CAAC;QAClB,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;MACX;IACF,CAAC;IAEDI,MAAM,CAACe,gBAAgB,CAAC,QAAQ,EAAEjB,YAAY,CAAC;IAC/CA,YAAY,CAAC,CAAC,CAAC,CAAC;;IAEhB,OAAO,MAAM;MACXE,MAAM,CAACgB,mBAAmB,CAAC,QAAQ,EAAElB,YAAY,CAAC;MAClD,IAAID,UAAU,CAACe,OAAO,EAAEC,YAAY,CAAChB,UAAU,CAACe,OAAO,CAAC;IAC1D,CAAC;EACH,CAAC,EAAE,CAACnB,WAAW,CAAC,CAAC;EAEjB,MAAMwB,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIxB,WAAW,KAAK,KAAK,EAAE;MACzBO,MAAM,CAACkB,QAAQ,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IACjD;EACF,CAAC;EAED,oBACE9B,OAAA;IACE+B,SAAS,EAAC,kDAAkD;IAC5DC,KAAK,EAAE;MACLC,OAAO,EAAE5B,OAAO,GAAG,CAAC,GAAG,CAAC;MACxB6B,UAAU,EAAE;IACd,CAAE;IACFC,OAAO,EAAER,WAAY;IAAAS,QAAA,eAErBpC,OAAA;MAAAoC,QAAA,EAAMjC;IAAW;MAAAkC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrB,CAAC;AAEV;AAACtC,EAAA,CAnEQD,kBAAkB;AAAAwC,EAAA,GAAlBxC,kBAAkB;AAqE3B,eAAeA,kBAAkB;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}